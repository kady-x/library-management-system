<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manage Billing</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
  </head>

  <body class="add-member-page">
    <section class="body-section">
      <div th:replace="~{fragments/sidebar :: sidebar}"></div>
      <main>
        <div class="container">
          <div class="form-header">
            <h1>Manage Billing</h1>
            <p class="form-description">View and update billing information for members</p>
          </div>

          <nav class="form-navigation">
            <a href="/members" class="back-link">
              <span class="nav-icon">‚Üê</span>
              Back to Members List
            </a>
          </nav>

          <form id="billingForm" class="member-form">
            <input type="hidden" id="memberId" name="memberId" />

            <div class="form-section">
              <h2 class="section-title">Member Information</h2>

              <div class="form-group">
                <label for="memberName" class="form-label">
                  Member Name
                </label>
                <div class="input-wrapper">
                  <input
                    type="text"
                    id="memberName"
                    name="memberName"
                    readonly
                  />
                </div>
              </div>

              <div class="form-group">
                <label for="memberContact" class="form-label">
                  Contact Information
                </label>
                <div class="input-wrapper">
                  <input
                    type="text"
                    id="memberContact"
                    name="memberContact"
                    readonly
                  />
                </div>
              </div>
            </div>

            <div class="form-section">
              <h2 class="section-title">Billing Information</h2>

              <div class="form-group">
                <label for="totalFines" class="form-label">
                  Total Fines (EGP)
                </label>
                <div class="input-wrapper">
                  <input
                    type="number"
                    id="totalFines"
                    name="totalFines"
                    placeholder="0.00"
                    min="0"
                    step="0.01"
                    value="0"
                  />
                </div>
              </div>

              <div class="form-group">
                <label for="paymentHistoryText" class="form-label">
                  Payment History
                </label>
                <div class="input-wrapper">
                  <textarea
                    id="paymentHistoryText"
                    name="paymentHistoryText"
                    placeholder="Enter payment history (one entry per line)"
                    rows="6"
                    maxlength="2000"
                  ></textarea>
                </div>
                <small class="form-help">Enter each payment on a new line</small>
              </div>
            </div>

            <div class="form-actions">
              <div class="button-group">
                <button type="submit" class="add-btn-member primary-action">
                  Save Billing Information
                </button>
                <button type="button" id="addPaymentBtn" class="secondary-action">
                  Add Payment
                </button>
                <button type="reset" class="reset-btn-member secondary-action">
                  Reset Changes
                </button>
              </div>

              <div class="form-footer">
                <p class="form-note">
                  Use "Add Payment" to record a new payment, or manually edit the total fines and payment history.
                </p>
              </div>
            </div>
          </form>
        </div>
      </main>
    </section>

    <script src="/js/sidebar.js"></script>
    <script src="/js/members/member-billing.js"></script>
  </body>
</html>
